
	var titleScope = [];
	titleScope.push({"age":"20대", "marriage":"싱글", "job":"직장인", "title":"<strong>보험이 너무 어렵게만 느껴지는 20대 <span>직장인</span>은<br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"20대", "marriage":"싱글", "job":"자영업", "title":"<strong>보험이 너무 어렵게만 느껴지는 20대 <span>자영업자</span>는<br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"20대", "marriage":"싱글", "job":"주부", "title":"<strong>보험이 너무 어렵게만 느껴지는 20대 <span>주부</span>는<br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"20대", "marriage":"결혼(자녀없음)", "job":"직장인",  "title":"<strong>행복한 결혼생활을 보내는 20대 <span>직장인</span>은<br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"20대", "marriage":"결혼(자녀없음)", "job":"자영업", "title":"<strong>행복한 결혼생활을 보내는 20대 <span>자영업자</span>는<br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"20대", "marriage":"결혼(자녀없음)", "job":"주부",    "title":"<strong>행복한 결혼생활을 보내는 20대 <span>주부</span>는<br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"20대", "marriage":"결혼(자녀있음)", "job":"직장인", "title":"<strong>우리 가족의 행복한 꿈을 위해 20대 <span>직장인</span>은<br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"20대", "marriage":"결혼(자녀있음)", "job":"자영업", "title":"<strong>우리 가족의 행복한 꿈을 위해 20대 <span>자영업자</span>는<br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"20대", "marriage":"결혼(자녀있음)", "job":"주부", "title":"<strong>우리 가족의 행복한 꿈을 위해 20대 <span>주부</span>는<br>이렇게 준비하세요.</strong>"});
	
	titleScope.push({"age":"30대", "marriage":"싱글", "job":"직장인", "title":"<strong>화려한 싱글라이프를 누리는 30대 <span>직장인</span>은<br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"30대", "marriage":"싱글", "job":"자영업", "title":"<strong>화려한 싱글라이프를 누리는 30대 <span>자영업자</span>는<br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"30대", "marriage":"싱글", "job":"주부", "title":"<strong>화려한 싱글라이프를 누리는 30대 <span>주부</span>는<br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"30대", "marriage":"결혼(자녀없음)", "job":"직장인",  "title":"<strong>행복한 결혼생활을 보내는 30대 <span>직장인</span>은<br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"30대", "marriage":"결혼(자녀없음)", "job":"자영업", "title":"<strong>행복한 결혼생활을 보내는 30대 <span>자영업자</span>는<br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"30대", "marriage":"결혼(자녀없음)", "job":"주부",    "title":"<strong>행복한 결혼생활을 보내는 30대 <span>주부</span>는<br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"30대", "marriage":"결혼(자녀있음)", "job":"직장인", "title":"<strong>우리 아이의 성장만큼 나도 준비해야 합니다. <br>30대 <span>직장인</span>이라면 이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"30대", "marriage":"결혼(자녀있음)", "job":"자영업", "title":"<strong>우리 아이의 성장만큼 나도 준비해야 합니다. <br>30대 <span>자영업자</span>라면 이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"30대", "marriage":"결혼(자녀있음)", "job":"주부", "title":"<strong>우리 아이의 성장만큼 나도 준비해야 합니다. <br>30대 <span>주부</span>라면 이렇게 준비하세요.</strong>"});
	
	titleScope.push({"age":"40대", "marriage":"싱글", "job":"직장인", "title":"<strong>나만의 라이프스타일을 즐기는 40대 <span>직장인</span>은 <br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"40대", "marriage":"싱글", "job":"자영업", "title":"<strong>나만의 라이프스타일을 즐기는 40대 <span>자영업자</span>는 <br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"40대", "marriage":"싱글", "job":"주부", "title":"<strong>나만의 라이프스타일을 즐기는 40대 <span>주부</span>는 <br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"40대", "marriage":"결혼(자녀없음)", "job":"직장인",  "title":"<strong>보험은 행복한 노후생활의 시작입니다. <br>40대 <span>직장인</span>이라면 이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"40대", "marriage":"결혼(자녀없음)", "job":"자영업", "title":"<strong>보험은 행복한 노후생활의 시작입니다. <br>40대 <span>자영업자</span>라면 이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"40대", "marriage":"결혼(자녀없음)", "job":"주부",    "title":"<strong>보험은 행복한 노후생활의 시작입니다. <br>40대 <span>주부</span>라면 이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"40대", "marriage":"결혼(자녀있음)", "job":"직장인", "title":"<strong>가족의 튼튼한 미래를 준비하는 40대 <span>직장인</span>은 <br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"40대", "marriage":"결혼(자녀있음)", "job":"자영업", "title":"<strong>가족의 튼튼한 미래를 준비하는 40대 <span>자영업자</span>는 <br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"40대", "marriage":"결혼(자녀있음)", "job":"주부", "title":"<strong>가족의 튼튼한 미래를 준비하는 40대 <span>주부</span>는 <br>이렇게 준비하세요.</strong>"});
	
	titleScope.push({"age":"50대", "marriage":"싱글", "job":"직장인", "title":"<strong>멋있는 중년 싱글의 조건! 50대 <span>직장인</span>은 <br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"50대", "marriage":"싱글", "job":"자영업", "title":"<strong>멋있는 중년 싱글의 조건! 50대 <span>자영업자</span>는 <br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"50대", "marriage":"싱글", "job":"주부", "title":"<strong>멋있는 중년 싱글의 조건! 50대 <span>주부</span>는 <br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"50대", "marriage":"결혼(자녀없음)", "job":"직장인",  "title":"<strong>제2의 인생은 지금부터! 50대 <span>직장인</span>은 <br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"50대", "marriage":"결혼(자녀없음)", "job":"자영업", "title":"<strong>제2의 인생은 지금부터! 50대 <span>자영업자</span>는 <br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"50대", "marriage":"결혼(자녀없음)", "job":"주부",    "title":"<strong>제2의 인생은 지금부터! 50대 <span>주부</span>는 <br>이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"50대", "marriage":"결혼(자녀있음)", "job":"직장인", "title":"<strong>우리 가족을 위한 가장 현명한 선택! <br>50대 <span>직장인</span>이라면 이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"50대", "marriage":"결혼(자녀있음)", "job":"자영업", "title":"<strong>우리 가족을 위한 가장 현명한 선택! <br>50대 <span>자영업자</span>라면 이렇게 준비하세요.</strong>"});
	titleScope.push({"age":"50대", "marriage":"결혼(자녀있음)", "job":"주부", "title":"<strong>우리 가족을 위한 가장 현명한 선택! <br>50대 <span>주부</span>라면 이렇게 준비하세요.</strong>"});

	var findInsuForm;
	var findInsuFormArray = [];
	var findInsuSaveArray = [];
	
	var totalValue;
	
	var calcCount = 0;
	
	//	상품구분  1: 암, 2: 정기, 3: 상해, 4: 저축, 5:연금저축, 7 :연금
	var PRODUCT_CANCER 	 = "1";
	var PRODUCT_TERM   	 = "2";
	var PRODUCT_ACCIDENT = "3";
	var PRODUCT_ESAVING  = "4";
	var PRODUCT_ANNUITY  = "5";
	var PRODUCT_IANNUITY = "7";
	
	var prevGender;// = $("input[name=findGender]").val();
	var prevJob = $("input[name=findJob]").val();
	var prevWedding = $("input[name=findWedding]").val();
	var nextGender;
	var nextJob;
	var nextWedding;
	
	function getFindInsuList(age, gender, marriage, job) {

		findInsuFormArray = [];
		findInsuSaveArray = [];
		totalValue = 0;
		calcCount = 0;
		showFindInsuResult(false);
		showLoadingDialog(true);
		
		var postData ={"age" : age, "gender" : gender, "marriage" : marriage, "job" : job};
		$.ajax({
			type : "POST",
			url : "/getFindInsuList.eds",
			data : JSON.stringify(postData),
			dataType : 'json',
			success : function(result) {
				if (result.success) {
					setFindInsuKeywordResult(result.list, age, gender, marriage, job);
					/*showFindInsuResult(true);*/
				} else {
					alert("나만의 맞춤 키워드 정보를 가져올수 없습니다.");
				}
			},
			error : function() { alert("error"); }
		});
	}
	
	function setFindInsuKeywordResult(list, age, gender, marriage, job) {
		if (typeof(list) == "undefined") { return; }
		if (list.length != 3) { return; }
		
		//	추천 보험 전부 숨기기
		$(".list-result3>ul").children().each(function() {
			$(this).hide();
		});
		
		var index = 99;
		$("#keywordResult").children().each(function(i) {
			index = getKeywordIndex(list, i);
			$(this).find("strong").text($.trim(list[index].KEYWORD));
			$(this).find("em").text($.trim(list[index].KEYWORD_DESC));
			
			setKeywordIcon($.trim(list[index].KEYWORD), i);
			setRecommendCalc($.trim(list[index].KEYWORD), i);
		});
		
		setGenderIcon(gender);
		setTitle(age, marriage, job);
	}
	
	function getKeywordIndex(list, index) {
		var result = 99;
		var tmp = "";
		
		for (var i = 0; i < list.length; i++) {
			tmp = $.trim(list[i].KEYWORD);
			if (index == 0) {
				if (tmp == "노후" || tmp == "세액공제") {
					result = i;
					break;
				} 
			} else if (index == 1) {
				if (tmp == "저축") {
					result = i;
					break;
				} 
			} else if (index == 2) {
				if (tmp == "건강" || tmp == "가족") {
					result = i;
					break;
				} 
			}
		}
		return result;
	}
	
	function checkFindInsu() {
		var birthObj = $("#findBirthday");
		
		$("#findConfirm").removeClass("on");
		
		if (birthObj.val().length < 8) {
			showFindInsuResult(false);
			$("#findConfirm").removeClass("on");
			//initFindInsu();
			return;
		}

		if (!chkDate(birthObj.val())) {
			alert("생년월일을 올바르게 입력해주세요.");
			birthObj.focus();
			birthObj.val("");
			return;
		}
		
		var weddingFlag = $("input[name=findWedding]:checked").length; 
		var jobFlag = $("input[name=findJob]:checked").length;
		var genderFlag = $("input[name=findGender]:checked").length;
		
		if (weddingFlag == 0 || jobFlag == 0 || genderFlag == 0) {
			return;
		}
		
		if (nextGender != prevGender) {
			prevGender = nextGender;
			$("#findConfirm").addClass("on");
			showFindInsuResult(false);
			return;
		}
		
		if (typeof(prevWedding) != "undefined") {
			if (prevWedding != nextWedding) {
				prevWedding = nextWedding;
				$("#findConfirm").addClass("on");
				showFindInsuResult(false);
				return;
			}
		} else {
			prevWedding = nextWedding;
		}
		
		if (typeof(prevJob) != "undefined") {
			if (prevJob != nextJob) {
				prevJob = nextJob;
				$("#findConfirm").addClass("on");
				showFindInsuResult(false);
				return;
			}
		} else {
			prevJob = nextJob;
		}
		
		$("#findConfirm").addClass("on");		
	}
	
	function initFindInsu() {
		
		showFindInsuResult(false);
		
		$('.form-step2 input[type="radio"]').prop('checked', false);
		
		$('#findJob1').prop('checked', false);
		$('#findJob1').prop('checked', false);
		$('#findJob1').prop('checked', false);

		$('#chkWedding1').prop('checked', false);
		$('#chkWedding2').prop('checked', false);
		$('#chkWedding3').prop('checked', false);
		
		$("#findConfirm").removeClass("on");
		
		ui.setFormCheck();
	}
	
	function setAppropriateKeyword(objBirth, objGender, objWedding, objJob) {
		var age;
		var marriage;
		var gender;
		var job;
		
		if (!chkDate(objBirth.val())) {
			alert("생년월일을 올바르게 입력해주세요.");
			objBirth.val("");
			objBirth.focus();
			initFindInsu();
			return false;
		}
		
		if (typeof(objGender) == "undefined") { 
			return; 
		}
		
		if (typeof(objWedding) == "undefined") { 
			return; 
		}
		
		if (typeof(objJob) == "undefined") { 
			return; 
		}
		
		age = getInsuAgeByYmd(objBirth.val());
		
		if (age < 20) {
			alert("20대 이하는 내게 맞는 보험찾기를 이용하실수 없습니다.");
			objBirth.focus();
			objBirth.val("");
			return;
		} else if (age >= 20 && age < 30) {
			age = "20대";
		} else if (age >= 30 && age < 40) {
			age = "30대";
		} else if (age >= 40 && age < 50) {
			age = "40대";
		} else if (age >= 50 && age < 60) {
			age = "50대";
		} else if (age >= 60) {
			alert("60대 이상은 내게 맞는 보험찾기를 이용하실수 없습니다.");
			objBirth.focus();
			objBirth.val("");
			return;
		}
		
		if (objWedding.val() == "1" && objJob.val() == "3") {
			alert("다른조건을 선택하여 주세요. 내게 맞는 보험찾기를 이용할수 없는 조건입니다.");
			
			//initFindInsu();
			return false;
		}
		
		if (objGender.val() == "1") { gender = "남자"; }
		else if (objGender.val() == "2") { gender = "여자"; }
		
		if (objWedding.val() == "1") { marriage = "싱글"; }
		else if (objWedding.val() == "2") { marriage = "결혼(자녀없음)"; }
		else if (objWedding.val() == "3") { marriage = "결혼(자녀있음)"; }
		
		if (objJob.val() == "1") { job = "직장인"; }
		else if (objJob.val() == "2") { job = "자영업"; }
		else if (objJob.val() == "3") { job = "주부"; }
		
		if (typeof(age) == "undefined") { 
			return; 
		}
		
		if (typeof(marriage) == "undefined") { 
			return; 
		}
		
		if (typeof(gender) == "undefined") { 
			return; 
		}
		
		if (typeof(job) == "undefined") { 
			return; 
		}
		getFindInsuList(age, gender, marriage, job);
	}
	
	function showFindInsuResult(Enable) {
		$(".find-form").removeClass("on");
		if (Enable) {
			
			$(".find-form").addClass("on");
			
			
			$(".form-step3").show();
			$(".find-result").show();
		} else {
			$(".form-step3").hide();
			$(".find-result").hide();
		}
	}
	
	function setGenderIcon(gender) {
		var genderVal = "2";
		if (gender == "남자") {
			genderVal = "1";
		}
		
		$(".find-result>.mes").removeClass("visual-f");
		$(".find-result>.mes").removeClass("visual-m");
		
		if (genderVal == "1") {
			$(".find-result>.mes").addClass("visual-m");
		} else {
			$(".find-result>.mes").addClass("visual-f");
		}
	}
	
	function setKeywordIcon(keyword, index) {
		var obj = $($("#keywordResult").children()[index]);
		obj.removeClass("icon1");
		obj.removeClass("icon2");
		obj.removeClass("icon3");
		obj.removeClass("icon4");
		obj.removeClass("icon5");
		
		if (keyword == "세액공제") {
			obj.addClass("icon1");
		} else if (keyword == "저축") {
			obj.addClass("icon2");
		} else if (keyword == "가족") {
			obj.addClass("icon3");
		} else if (keyword == "건강") {
			obj.addClass("icon4");
		} else if (keyword == "노후") {
			obj.addClass("icon5");
		}
	}
	
	function setRecommendCalc(keyword, index) {

		if (keyword == "세액공제") {
			$("#findAnnuity").show();
//			findInsuCalc("5", findInsuCB);
			findInsuCalc("5");
		} else if (keyword == "저축") {
			$("#findEsaving").show();
//			findInsuCalc("4", findInsuCB);
			findInsuCalc("4");
		} else if (keyword == "가족") {
			$("#findTerm").show();
//			findInsuCalc("2", findInsuCB);
			findInsuCalc("2");
		} else if (keyword == "건강") {
			$("#findCancer").show();
//			findInsuCalc("1", findInsuCB);
			findInsuCalc("1");
		} else if (keyword == "노후") {
			$("#findIannuity").show();
//			findInsuCalc("7", findInsuCB);
			findInsuCalc("7");
		}
	}
	
	function setTitle(age, marriage, job) {
		var title = "";
		var obj;
		
		for (var i = 0; i < titleScope.length; i++) {
			obj = titleScope[i];
			
			if (obj.age == age && obj.marriage == marriage && obj.job == job) {
				title = obj.title;
			}
		}
		
		if (age == "20대") {
			title += "<span>보험은 부담이 아닌 편안한 노후와 건강한 삶을 위한 든든한 미래의 자산입니다.</span>";
		} else if (age == "30대") {
			title += "<span>사회활동과 경제활동이 가장 활발한 30대는 보험료와 보장금액이 유리합니다.</span>";
		} else if (age == "40대") {
			title += "<span>아직 늦지 않았습니다. 더 나은 미래를 위한 행복한 선택을 시작하세요.</span>";
		} else if (age == "50대") {
			title += "<span>편안한 노후와 건강한 삶을 위한 행복 보장! 아직 기회는 남아 있습니다.</span>";
		}
		
		$("#findTitle").empty();
		$("#findTitle").html(title);
	}
	
	/*var findInsuCB = function () {
		calcCount += 1;
		
		if (calcCount == 3) {
			showFindInsuResult(true);
			showLoadingDialog(false);
			
			$("#findInsuTotal").text("월 " + addCommas(totalValue) + "원");
		}
	}*/
	
	function checkComplete(type, planSeq) {
		calcCount += 1;
		
		findInsuSaveArray.push(
								{"saveType":"session", "insuType":type, 
								 "phoneNo":"", "planIdx":"0", 
								 "planSeq":planSeq, "planData":{}}
		);
		
		if (calcCount == 3) {
			showFindInsuResult(true);
			showLoadingDialog(false);
			
			$("#findInsuTotal").text("월 " + addCommas(totalValue) + "원");
		}
	}
	
	function findInsuCalc(type) {
		//	상품구분  1: 암, 2: 정기, 3: 상해, 4: 저축, 5:연금저축, 7 :연금
		
		getFindInsuForm(type);
		findSetForm(type);
		findInsuFormArray.push({"type":type, "form" : findInsuForm});
		
//		makeSaveArray();
		
		$.ajax({
			type : "POST",
			url : "/directCalc.eds",
			data : JSON.stringify(findInsuForm),
			dataType : 'json',
			success : function(result) {
				if (result.success) {
					
					if(typeof( result.arryData ) == "undefined"){
						result.arryData = result.resultObj;
					}
					
					findInsuDisplayResult(type, result);
					checkComplete(type, result.arryData.inputObj.planSeq);
					
					setPlanCookie(result);
					
					//callback();
					/*if (typeof(inputObj) == "undefined") {
						callback();
					}*/
					
					// 차이 마케팅 스크립트(보험료 설계 완료) 17.12.22
					fbq('track', 'ViewContent', {
					    value: result.arryData.totPremium,
					    currency: 'KRW',
					  });
					chaiConv('1', result.arryData.inputObj.prdtnm);
					dablena('track', 'ViewContent');
					window._tfa = window._tfa || [];
				    _tfa.push({ notify: 'action',name: 'cv_quote' });
					// 차이 마케팅 스크립트(보험료 설계 완료) 17.12.22
				} else {
					alert(result.message);
				}
			},
			beforeSend : function() {},		
 			complete : function() {},		
			error : function() {} 
		});
	}
	
	function findInsuDisplayResult(type, result) {
		
		switch (type) {
			case PRODUCT_CANCER: 
				findInsuSetCancerResult(result);
				break;
			case PRODUCT_TERM:
				findInsuSetTermResult(result);
				break;
			case PRODUCT_ESAVING:
				findInsuSetEsavingResult(result);
				break;
			case PRODUCT_ANNUITY:
				findInsuSetAnnuityResult(result);
				break;
			case PRODUCT_IANNUITY:
				findInsuSetIannuityResult(result);
				break;
		}
	}
	
	function findInsuSetCancerResult(result) {
		var data = result.arryData;
		
		var generalVal = data.gVal1;
		var largeVal = data.gVal2;
		var smallBeginVal = data.gVal3_1;
		var smallEndVal = data.gVal3_2;
		var deathVal = data.gVal4;
		var diagnosisVal = data.gVal5;
		
		//var generalVal = data.guaranteeArry[3].amt.replace("만원", "").replace(",", "");
		//var largeVal = data.guaranteeArry[19].amt.replace("만원", "").replace(",", "");
		//var largeValAmt = parseInt(generalVal) + parseInt(largeVal);
		//var smallBeginVal = data.guaranteeArry[12].amt.replace("만원", "").replace(",", "");
		//var smallEndVal = data.guaranteeArry[11].amt.replace("만원", "").replace(",", "");
		//var deathVal = data.guaranteeArry[16].amt.replace("만원", "").replace(",", "");
		
		$("#findInsuCancerMonthlyPremium").text(addCommas(data.padSmtotPrm));
		$("#findInsuCancerGeneralAmt").text(addCommas(generalVal));
		$("#findInsuCancerLargeAmt").text(addCommas(largeVal));
		$("#findInsuCancerSmallAmt").text(smallBeginVal + " ~ " + smallEndVal);
		$("#findInsuCancerDeathAmt").text(addCommas(deathVal));
		$("#findInsuCancerDiagnosisAmt").text(addCommas(diagnosisVal));
		
		totalValue += parseInt(data.padSmtotPrm);
	}
	
	function findInsuSetTermResult(result) {
		var data = result.arryData;
		
		$("#findInsuTermMonthlyPremium").text(addCommas(data.padSmtotPrm));
		$("#findInsuTermDeathAmt").text(wonToStr3(data.deathAmt + "0000"));
		
		totalValue += parseInt(data.padSmtotPrm);
	}
	
	function findInsuSetEsavingResult(result) {
		var data = result.arryData;
		
		$("#findInsuEsavingMonthlyPremium").text(addCommas(parseInt(data.totPremium / 10000)));
		$("#findInsuEsavingReturnMoney").text(addCommas(data.returnMoney));
		$("#findInsuEsavingReturnRatio").text(data.returnRatio);
		
		totalValue += parseInt(data.totPremium);
	}
	
	function findInsuSetAnnuityResult(result) {
		var data = result.arryData;
		var monthlyPremium = parseInt(data.totPremium / 10000);
		var taxCredit = (monthlyPremium * 12 * 16.5 / 100).toFixed(1);
		if (taxCredit >= 66) taxCredit = 66;
		
		$("#findInsuAnnuityMonthlyPremium").val(monthlyPremium);
		$("#findInsuAnnuityTax").text(taxCredit);
		$("#findInsuAnnuityMoney").text(addCommas(parseInt(data.annuityMoney / 10000)));
		$("#findInsuAnnuityRatio").text(data.returnRatio);
		
		totalValue += parseInt(data.totPremium);
	}
	
	function findInsuSetIannuityResult(result) {
		var data = result.arryData;
		
		$("#findInsuIannuityMonthlyPremium").val(addCommas(parseInt(data.totPremium / 10000)));
		$("#findInsuIannuityMoney").text(addCommas(parseInt(data.nowTime10 / 10000)));
		$("#findInsuIannuityRatio").text(data.returnRatio);
		
		totalValue += parseInt(data.totPremium);
	}
	
	function findSetForm(type) {
		var age = getInsuAgeByYmd($("#findBirthday").val());
		
		findInsuForm.contBirth = $("#findBirthday").val();
		findInsuForm.contGender = $("input[name=findGender]:checked").val();
		
		switch (type) {
			case "1" :	//	암
				findInsuForm.payPeriod = 10;
				findInsuForm.insuPeriod = 10;
				break;
			case "2" :	//	정기
				findInsuForm.payPeriod = 20;
				findInsuForm.insuPeriod = 20;
				findInsuForm.padPrdTypCd = "01"
				findInsuForm.insrPrdTypCd = "01";
				break;
			case "4" :	//	저축
				findInsuForm.payPeriod = 5;
				findInsuForm.insuPeriod = 10;
				findInsuForm.premium = 300000;
				break;
			case "5" :	//	연금저축
				if (age >= 56 && age <= 69){
					findInsuForm.payPeriod = 10;
					findInsuForm.annuityAge = age + 10;
				} else if (age >= 70 && age <= 75){
					findInsuForm.payPeriod = 5;
					findInsuForm.annuityAge = age + 5;
				} else {
					findInsuForm.payPeriod = 10;
					findInsuForm.annuityAge = 65;
				}
				//findInsuForm.premium = 3400000000;
				findInsuForm.premium = 340000;
				
				$("#findInsuAnnuityAnnAge").text(findInsuForm.annuityAge);
				$("#findInsuAnnuityNapTerm").text(findInsuForm.payPeriod);
				
				break;
			case "7" :	//	연금
				if (age >= 51 && age <= 65){
					findInsuForm.payPeriod = 10;
					findInsuForm.annuityAge = age + 15;
				} else {
					findInsuForm.payPeriod = 10;
					findInsuForm.annuityAge = 65;
				}
				findInsuForm.premium = 300000;
				
				$("#findInsuIannuityAnnAge").text(findInsuForm.annuityAge);
				$("#findInsuIannuityNapTerm").text(findInsuForm.payPeriod);				
				break;
		}
	}
	
	function getFindInsuForm(type) {
		var jsonData = '{"insuranceType":"' + type + '"}';
		
		$.ajax({
			type : "POST",
			url : "/planDirect.eds",
			data : jsonData,
			dataType : 'json',
			async : false,
			success : function(result) {
				if (result.success) {
					
					findInsuForm = new Object();
					//	2016.11.17
					//	내게맞는 보험찾기와 바로가입하기를 구분하기 위해 calcType 추가
					findInsuForm.calcType = "find";
					findInsuForm.proType = result.product.proType;
					findInsuForm.prcdId = result.product.id;
					findInsuForm.prcd = result.product.pcode;
					findInsuForm.prdtVcd = result.product.pvcode;
					findInsuForm.insCd = result.product.icode;
					findInsuForm.insrVcd = type == PRODUCT_CANCER ? result.product.pvcode : "001";
					findInsuForm.repCd = result.product.slpcode;
					findInsuForm.prdtnm = result.product.fullNm;
					findInsuForm.contName = "고객님";
					findInsuForm.contBirth = "";
					findInsuForm.contGender = "";
					findInsuForm.insuPeriod = "";
					findInsuForm.payMethod = "";
					findInsuForm.payPeriod = "";
					findInsuForm.premium = "";
					findInsuForm.planSeq = "";

					// 암
					if (type == PRODUCT_CANCER) {
						findInsuForm.mainContAmt = "10000000";
						findInsuForm.treatyContAmt = "40000000";
					}

					// 정기
					if (type == PRODUCT_TERM) {
						findInsuForm.insrPrdTypCd = "";
						findInsuForm.padPrdTypCd = "";
						findInsuForm.freeCont = "100000000";
					}

					//	연금, 연금저축
					if (type == PRODUCT_IANNUITY || type == PRODUCT_ANNUITY) {
						findInsuForm.annuityAge = "";
					}
				} else {
					alert(result.message);
				}
			},
			error : function() {
				alert("error");
			} 
		});
	}
	
	function findInsuViewDetail(type) {
		
		var form;
		
		for (var i = 0; i < findInsuFormArray.length; i++) {
			if (findInsuFormArray[i].type == type) {
				form = findInsuFormArray[i].form;
			}
		}
		
		if (type == PRODUCT_IANNUITY || type == PRODUCT_ANNUITY || type == PRODUCT_ESAVING) {
//			directForm.premium = parseInt(directForm.premium); 
			form.premium = parseInt(form.premium) / 10000; 
		}
		
		var jsonData = JSON.stringify(form);
		$.cookie("mainPlanData",jsonData ,{path:'/'});
		location.href = getPlanUrl(type); // 페이지 이동
	}
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	